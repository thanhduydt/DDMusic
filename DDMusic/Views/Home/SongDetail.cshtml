@model DDMusic.Areas.Admin.Models.SongModel
<style>
    .divLyric {
        height: auto;
        max-height: 255px;
        overflow: hidden;
    }

    .img-song {
        width: 100px;
        height: 100px;
        border-radius: 10%;
    }

    .title-song {
        margin-top: 10px;
        margin-left: -120px;
    }

    .img-comment {
        width: 60px;
        height: 60px;
        border-radius: 12%;
    }

    .user-name {
        width: 100px;
        margin-left: 10px;
        margin-right: 10px;
        font-weight: 600 !important;
    }

    .user-comment {
        margin-left: 10px;
        font-weight: 400 !important;
    }

    .padding-comment {
        padding-bottom: 10px;
    }

    .comment {
        margin-left: -30px;
    }

    h4 {
        font-size: 40px;
    }

    h6 {
        font-weight: 500;
        letter-spacing: 1px;
    }

    .title-related-song {
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        font-size: 20px !important;
    }
</style>
<br />
<section class="miscellaneous-area section-padding-100-0">
    <div class="container">
        <div class="row">
            <!-- ***** Popular Artists ***** -->

            <div class="col-12 col-lg-8">
                <div>
                    <div class="row">
                        <div class="col-md-4">
                            <img class="img-song" src="~/img/song/@Model.URLImg" alt="" />
                        </div>
                        <div class="col-md-8 title-song">
                            <h4>@Model.Name</h4>
                            <h6>@Model.Singer.Name</h6>
                            <input id="idSong" hidden value="@Model.Id"/>
                        </div>
                    </div>
                </div>


                <br />
                <audio preload="auto" controls>
                    <source src="~/audio/@Model.URLMusic">
                </audio>
                <p style="padding-left:600px"><i class="fa fa-thumbs-up"></i> &ensp; <i class="fa fa-heart"></i> &ensp;  <i class="fa fa-share-alt"></i></p>
                <h3>Lời bài hát</h3>
                <div class="divLyric" id="divLyric">
                    @Html.Raw(Model.Lyric)
                </div>
                <div class="more_add" id="divMoreAddLyric">
                    <a href="javascript:;" id="seeMoreLyric" onclick="seeMoreLyric()" title="Xem toàn bộ" class="btn_view_more"><i class="fa fa-chevron-down"></i> Xem toàn bộ<span class="down"></span></a>
                    <a href="javascript:;" id="hideMoreLyric" onclick="hideMoreLyric()" title="Thu gọn" style="display:none" class="btn_view_hide hide"><i class="fa fa-chevron-up"></i> Thu gọn<span class="up"></span></a>

                </div>
            </div>

            <!-- ***** New Hits Songs ***** -->
            <div class="col-12 col-lg-4">
                <div class="new-hits-area mb-100">
                    <div class="section-heading text-left mb-50 wow fadeInUp" style="text-align:center !important" data-wow-delay="50ms">
                        <p class="title-related-song">Những bài hát liên quan</p>
                    </div>
                    <!-- Single Top Item -->

                    @foreach (var item in ViewBag.RelatedSongs)
                    {
                        <div class="single-new-item d-flex align-items-center justify-content-between wow fadeInUp" data-wow-delay="100ms">
                            <div class="first-part d-flex align-items-center">
                                <div class="thumbnail">
                                    <img src="~/img/song/@item.URLImg" alt="">
                                </div>
                                <div class="content-">
                                    <h6>@item.Name</h6>
                                    <p>@item.Singer.Name</p>
                                </div>
                            </div>
                        </div>
                    }

                </div>
            </div>


        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12">
                @*<div class="section-heading white wow fadeInUp" data-wow-delay="100ms">*@
                @*<p>See what’s new</p>*@
                <h2>Bình luận</h2>
                @*</div>*@
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <!-- Contact Form Area -->
                <div class="login-form">
             
                        <div class="row">
                            <div class="col-md-6 col-lg-4">
                                <div class="form-group">
                                    <input type="text" class="form-control" style="width:110%;" id="txtComment" placeholder="Bình luận">
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-4">
                                <div class="form-group wow fadeInUp" data-wow-delay="200ms">
                                    <button class="btn btn-primary w-25" name="btnComment" >Gửi</button>
                                </div>
                            </div>
                        </div>         
                    <br />
                    <div id="commentlist">
                    @foreach (var comment in ViewBag.ListComment)
                    {
                    <div class="row padding-comment">
                        <div class="col-md-1">
                            <img class="img-comment" src="~/img//user-img/@comment.User.URLImg" alt="" />
                        </div>
                        <div class="col-md-6 comment">
                            <h6 class="user-name">@comment.User.UserName</h6>
                            <h6 class="user-comment">@comment.Content</h6>
                        </div>
                    </div>
                    }
                        </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        function seeMoreLyric() {

            document.getElementById("divLyric").className = "";
            document.getElementById("seeMoreLyric").style.display = 'none';
            document.getElementById("hideMoreLyric").style.display = 'block';
        }
        function hideMoreLyric() {
            document.getElementById("divLyric").className = "divLyric";
            document.getElementById("seeMoreLyric").style.display = 'block';
            document.getElementById("hideMoreLyric").style.display = 'none';
        }
        $('button[name=btnComment]').click(function () {
            var txtComment = document.getElementById("txtComment").value;
            var idSong = document.getElementById("idSong").value;
            $.ajax({
                type: 'post',
                url: '/Home/AddComment',
                dataType: 'html',
                data: {
                    "txtComment": txtComment, "idSong": idSong
                },
                success: function (data) {
               //     alert(data);
                    $("#commentlist").html(data);
                }
              
            });
        });
       
    </script>
}